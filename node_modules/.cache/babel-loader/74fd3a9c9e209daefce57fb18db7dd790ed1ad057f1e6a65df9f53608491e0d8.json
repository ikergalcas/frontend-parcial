{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ikerg\\\\Desktop\\\\IngWeb\\\\Parcial3\\\\frontend\\\\src\\\\navbar\\\\navbar.js\",\n  _s = $RefreshSig$();\nimport { Navbar, Nav, NavDropdown, NavItem } from 'react-bootstrap';\nimport logo from '../logo.svg';\nimport { redirect, useNavigate, useParams } from 'react-router-dom';\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction NavbarPage(props) {\n  _s();\n  const [nombreUsuario, setNombreUsuario] = useState('');\n  const [foto, setFoto] = useState('');\n  useEffect(() => {\n    if (localStorage.getItem('objetoToken') != undefined) {\n      comprobarConexion(); ///AJUSTAR A ESTE PROYECTO\n      setNombreUsuario(JSON.parse(localStorage.getItem('objetoToken')).correo);\n      setFoto(JSON.parse(localStorage.getItem('objetoToken')).foto);\n    }\n  }, []);\n  const comprobarConexion = async () => {\n    fetch(`https://backend-parcial-ikergalcas-projects.vercel.app/entidades/conexion/${JSON.parse(localStorage.getItem('objetoToken')).tokenId}/${JSON.parse(localStorage.getItem('objetoToken')).tokenCompleto}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => response.text()).then(data => {\n      console.log(data);\n      if (data == \"expired\" || data == \"invalid token\") {\n        localStorage.clear();\n        alert(\"Tu sesion ha expirado\");\n        window.location.href = '/login';\n      }\n    }).catch(error => {\n      console.error('Error al obtener productos:', error);\n    });\n  };\n  function cerrarSesion() {\n    console.log(\"en Cerrar sesion\");\n    localStorage.clear();\n    // Redirige a /login\n    window.location.href = '/login';\n  }\n  return /*#__PURE__*/_jsxDEV(Navbar, {\n    expand: \"lg\",\n    className: \"navbar\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar.Toggle, {\n      \"aria-controls\": \"basic-navbar-nav\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n      id: \"basic-navbar-nav\",\n      className: \"navbar-collapse\",\n      children: [/*#__PURE__*/_jsxDEV(Nav, {\n        className: \"me-auto\",\n        children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n          href: `/`,\n          className: \"navbar-link\",\n          style: {\n            marginLeft: '10vmin'\n          },\n          children: \" Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n          href: `/entidades`,\n          className: \"navbar-link\",\n          style: {\n            marginLeft: '10vmin'\n          },\n          children: \" Entidad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n        children: nombreUsuario != '' ? nombreUsuario : \"Hola\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Nav, {\n        children: /*#__PURE__*/_jsxDEV(NavDropdown, {\n          drop: \"start\",\n          className: \"me-3\",\n          title: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: foto,\n            style: {\n              width: '6vh',\n              borderRadius: '50%'\n            },\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 63\n          }, this),\n          id: \"basic-nav-dropdown\",\n          children: [/*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n            href: `/myUserInfo/`,\n            children: \"Ver mi perfil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(NavDropdown.Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n            href: \"/\",\n            onClick: cerrarSesion,\n            children: \"Cerrar sesi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 7\n  }, this);\n}\n_s(NavbarPage, \"PEgGGyxwOvKP44xkSeAVGHFHYnU=\");\n_c = NavbarPage;\nexport default NavbarPage;\nvar _c;\n$RefreshReg$(_c, \"NavbarPage\");","map":{"version":3,"names":["Navbar","Nav","NavDropdown","NavItem","logo","redirect","useNavigate","useParams","React","useState","useEffect","jsxDEV","_jsxDEV","NavbarPage","props","_s","nombreUsuario","setNombreUsuario","foto","setFoto","localStorage","getItem","undefined","comprobarConexion","JSON","parse","correo","fetch","tokenId","tokenCompleto","method","headers","then","response","text","data","console","log","clear","alert","window","location","href","catch","error","cerrarSesion","expand","className","children","Toggle","fileName","_jsxFileName","lineNumber","columnNumber","Collapse","id","Link","style","marginLeft","drop","title","src","width","borderRadius","alt","Item","Divider","onClick","_c","$RefreshReg$"],"sources":["C:/Users/ikerg/Desktop/IngWeb/Parcial3/frontend/src/navbar/navbar.js"],"sourcesContent":["import { Navbar, Nav, NavDropdown, NavItem } from 'react-bootstrap';\r\nimport logo from '../logo.svg'\r\nimport { redirect, useNavigate, useParams } from 'react-router-dom'\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nfunction NavbarPage(props) {\r\n  const [nombreUsuario,setNombreUsuario]=useState('')\r\n  const [foto,setFoto]=useState('')\r\n\r\n  useEffect(() => {\r\n    if(localStorage.getItem('objetoToken')!=undefined){\r\n      comprobarConexion() ///AJUSTAR A ESTE PROYECTO\r\n      setNombreUsuario(JSON.parse(localStorage.getItem('objetoToken')).correo)\r\n      setFoto(JSON.parse(localStorage.getItem('objetoToken')).foto)\r\n    } \r\n}, []);\r\n\r\nconst comprobarConexion = async () => {\r\n  fetch(`https://backend-parcial-ikergalcas-projects.vercel.app/entidades/conexion/${JSON.parse(localStorage.getItem('objetoToken')).tokenId}/${JSON.parse(localStorage.getItem('objetoToken')).tokenCompleto}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n    }).then(response => response.text())\r\n      .then(data => {\r\n            console.log(data)\r\n            if(data==\"expired\" || data==\"invalid token\"){\r\n              localStorage.clear()\r\n              alert(\"Tu sesion ha expirado\")\r\n              window.location.href = '/login'\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.error('Error al obtener productos:', error);\r\n        });\r\n}\r\n\r\nfunction cerrarSesion () {\r\n  console.log(\"en Cerrar sesion\")\r\n  localStorage.clear();\r\n      // Redirige a /login\r\n  window.location.href = '/login';\r\n}\r\n    return (\r\n      <Navbar expand=\"lg\" className=\"navbar\">\r\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\" className='navbar-collapse'>\r\n        <Nav className=\"me-auto\">\r\n          <Nav.Link href={`/`} className='navbar-link' style={{marginLeft: '10vmin'}}> Home\r\n          </Nav.Link>\r\n          <Nav.Link href={`/entidades`} className='navbar-link' style={{marginLeft: '10vmin'}}> Entidad\r\n          </Nav.Link> \r\n        </Nav>\r\n        <NavItem>{(nombreUsuario!='')? (nombreUsuario) : \"Hola\" }</NavItem>\r\n        <Nav>\r\n            <NavDropdown drop='start' className='me-3' title={<img src={foto} style={{ width: '6vh', borderRadius: '50%' }} alt=\"\" />} id=\"basic-nav-dropdown\">\r\n            <NavDropdown.Item href={`/myUserInfo/`}>Ver mi perfil</NavDropdown.Item>\r\n            <NavDropdown.Divider />\r\n            <NavDropdown.Item href=\"/\" onClick={cerrarSesion}>Cerrar sesi√≥n</NavDropdown.Item>\r\n          </NavDropdown>\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n  }\r\n\r\n  export default NavbarPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}